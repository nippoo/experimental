<!DOCTYPE html>
<head>
<meta charset="utf-8">
<style>

body
{
  background-color: #aaa;
}

</style>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

function random_number(min,max) {

    return (Math.round((max-min) * Math.random() + min));
}

function add_ccg()
{

var bins = new Array;
bins[0] = 0

for (var element=1; element<99; element++) {
    bins[element] = random_number(0,120);
}

bins[99] = 0

var width = 110,
    height = 110;

var barWidth = width/bins.length;

var lineFunction = d3.svg.line()
                         .x(function(d, i) { return width-(i*barWidth); })
                         .y(function(d, i) { return height-d; })
                         .interpolate("step-after");

var clusterContainer = d3.select("body").append("div")
                            .style("display", "inline-block")
                            .style("margin",  "5px")
                            .style("padding-top",  "10px")
                            .style("background-color",  "black")
                            .style("border-radius",  "4px")
                            .style("text-align",  "center")
                            .style("width", "130px")
                            .style("height", "150px");

var svgContainer = clusterContainer.append("svg")
                                    .attr("width", width)
                                    .attr("height", height);

var correlogram = svgContainer.append("path")
                            .attr("d", lineFunction(bins))
                            .attr("stroke", "white")
                            .attr("stroke-width", 2)
                            .attr("fill", "white")
}

</script>
</head>
<body>
    <script>
console.time("benchmark");
console.log("Adding 20 correlograms")
for (var i = 0; i < 20; i++) {
    add_ccg()
};
console.timeEnd("benchmark");
</script>
</body>
</html>
